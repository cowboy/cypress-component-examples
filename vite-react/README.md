# Component Testing Example: Vite + React

This is an example **Vite + React** project with Cypress component testing.

- `yarn` to install the dependencies
- `npx cypress open-ct` to run interactively
- `npx cypress run-ct` to run all tests headlessly

The following was done to create this example:

1. Initialize a baseline React project in the [vite-react](.) subdirectory
   1. `yarn create vite vite-react --template react`
   2. Commit [`bf99cff`](https://github.com/cypress-io/cypress-component-testing-examples/commit/bf99cffdfb6a87aefeba90ae896d625d8dedd2c1)
2. Install project dependencies
   1. `cd vite-react`
   2. `yarn`
   3. Commit [`badda49`](https://github.com/cypress-io/cypress-component-testing-examples/commit/badda490198932cd6af3a03b8830d4371016ed95)
3. Refactor app into separate components, adjust global styles
   1. Move some code from [src/App.jsx](src/App.jsx) into [src/Counter.jsx](src/Counter.jsx)
   2. Move some styles from [src/App.css](src/App.css) into [src/Counter.css](src/Counter.css)
   3. Move global app styles into [src/index.css](src/index.css)
   4. Commit [`f85dda0`](https://github.com/cypress-io/cypress-component-testing-examples/commit/f85dda0b1b4c736740cac89914fe1a6bcd281ac0)
4. Add Cypress component testing support with sample tests
   1. `yarn add -D cypress @cypress/react @cypress/vite-dev-server`
   2. Add [cypress.json](cypress.json)
   3. Add [cypress/plugins/index.js](cypress/plugins/index.js)
   4. Add [src/App.spec.ct.jsx](src/App.spec.ct.jsx), [src/Counter.spec.ct.jsx](src/Counter.spec.ct.jsx)
   5. `npx cypress open-ct` (Notice that the background doesn't inherit global app styles)
   6. Edit [cypress/support/index.js](cypress/support/index.js) to import global app styles, the Cypress test preview should update automatically
   7. Commit [`490c1e7`](https://github.com/cypress-io/cypress-component-testing-examples/commit/490c1e7cb7905cc688bee0d18c4f1f9a6a705256)
4. Add Cypress Code Coverage
   1. `yarn add -D @cypress/code-coverage vite-plugin-istanbul`
   2. Edit [cypress.json](cypress.json) to enable `coverage`
   3. Edit [cypress/plugins/index.js](cypress/plugins/index.js) to configure the Cypress code coverage task with Istanbul
   4. Edit [cypress/support/commands.js](cypress/support/commands.js) to import Cypress code coverage support
   5. Commit [`3d307cb`](https://github.com/cypress-io/cypress-component-testing-examples/commit/3d307cbd7c2226b34926fac3fc59bd74e36a17c2)

_This example was generated by [vite-react.sh](https://github.com/cypress-io/cypress-component-testing-examples/blob/main/scripts/vite-react.sh) on 2021-11-04. The original README follows._

---

(no original readme)
